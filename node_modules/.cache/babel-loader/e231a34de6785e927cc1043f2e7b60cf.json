{"ast":null,"code":"const axios = require('axios');\n\nconst extractLyrics = require('./utils/extractLyrics');\n\nconst url = 'https://api.genius.com/songs/';\n/**\r\n * @param {(number|string)} id\r\n * @param {string} apiKey\r\n */\n\nmodule.exports = async function (id, apiKey) {\n  if (!id) throw 'No id was provided';\n\n  try {\n    // const headers = {\n    // \tAuthorization: 'Bearer ' + apiKey\n    // };\n    let {\n      data: {\n        response: {\n          song\n        }\n      }\n    } = await axios.get(`${url}${id}&access_token=${apiKey}` // { headers }\n    );\n    let lyrics = await extractLyrics(song.url);\n    return {\n      id: song.id,\n      title: song.full_title,\n      url: song.url,\n      lyrics,\n      albumArt: song.song_art_image_url\n    };\n  } catch (e) {\n    throw e;\n  }\n};","map":{"version":3,"names":["axios","require","extractLyrics","url","module","exports","id","apiKey","data","response","song","get","lyrics","title","full_title","albumArt","song_art_image_url","e"],"sources":["/Users/navid/Documents/Final Project 2/vocab/node_modules/genius-lyrics-api/lib/getSongById.js"],"sourcesContent":["const axios = require('axios');\r\nconst extractLyrics = require('./utils/extractLyrics');\r\n\r\nconst url = 'https://api.genius.com/songs/';\r\n\r\n/**\r\n * @param {(number|string)} id\r\n * @param {string} apiKey\r\n */\r\nmodule.exports = async function (id, apiKey) {\r\n\tif (!id) throw 'No id was provided';\r\n\ttry {\r\n\t\t// const headers = {\r\n\t\t// \tAuthorization: 'Bearer ' + apiKey\r\n\t\t// };\r\n\t\tlet {\r\n\t\t\tdata: {\r\n\t\t\t\tresponse: { song }\r\n\t\t\t}\r\n\t\t} = await axios.get(\r\n\t\t\t`${url}${id}&access_token=${apiKey}`\r\n\t\t\t// { headers }\r\n\t\t);\r\n\t\tlet lyrics = await extractLyrics(song.url);\r\n\t\treturn {\r\n\t\t\tid: song.id,\r\n\t\t\ttitle: song.full_title,\r\n\t\t\turl: song.url,\r\n\t\t\tlyrics,\r\n\t\t\talbumArt: song.song_art_image_url\r\n\t\t};\r\n\t} catch (e) {\r\n\t\tthrow e;\r\n\t}\r\n};\r\n"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,aAAa,GAAGD,OAAO,CAAC,uBAAD,CAA7B;;AAEA,MAAME,GAAG,GAAG,+BAAZ;AAEA;AACA;AACA;AACA;;AACAC,MAAM,CAACC,OAAP,GAAiB,gBAAgBC,EAAhB,EAAoBC,MAApB,EAA4B;EAC5C,IAAI,CAACD,EAAL,EAAS,MAAM,oBAAN;;EACT,IAAI;IACH;IACA;IACA;IACA,IAAI;MACHE,IAAI,EAAE;QACLC,QAAQ,EAAE;UAAEC;QAAF;MADL;IADH,IAIA,MAAMV,KAAK,CAACW,GAAN,CACR,GAAER,GAAI,GAAEG,EAAG,iBAAgBC,MAAO,EAD1B,CAET;IAFS,CAJV;IAQA,IAAIK,MAAM,GAAG,MAAMV,aAAa,CAACQ,IAAI,CAACP,GAAN,CAAhC;IACA,OAAO;MACNG,EAAE,EAAEI,IAAI,CAACJ,EADH;MAENO,KAAK,EAAEH,IAAI,CAACI,UAFN;MAGNX,GAAG,EAAEO,IAAI,CAACP,GAHJ;MAINS,MAJM;MAKNG,QAAQ,EAAEL,IAAI,CAACM;IALT,CAAP;EAOA,CApBD,CAoBE,OAAOC,CAAP,EAAU;IACX,MAAMA,CAAN;EACA;AACD,CAzBD"},"metadata":{},"sourceType":"script"}