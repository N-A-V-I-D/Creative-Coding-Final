{"ast":null,"code":"var entityMap = require(\"../maps/entities.json\"),\n    legacyMap = require(\"../maps/legacy.json\"),\n    xmlMap = require(\"../maps/xml.json\"),\n    decodeCodePoint = require(\"./decode_codepoint.js\");\n\nvar decodeXMLStrict = getStrictDecoder(xmlMap),\n    decodeHTMLStrict = getStrictDecoder(entityMap);\n\nfunction getStrictDecoder(map) {\n  var keys = Object.keys(map).join(\"|\"),\n      replace = getReplacer(map);\n  keys += \"|#[xX][\\\\da-fA-F]+|#\\\\d+\";\n  var re = new RegExp(\"&(?:\" + keys + \");\", \"g\");\n  return function (str) {\n    return String(str).replace(re, replace);\n  };\n}\n\nvar decodeHTML = function () {\n  var legacy = Object.keys(legacyMap).sort(sorter);\n  var keys = Object.keys(entityMap).sort(sorter);\n\n  for (var i = 0, j = 0; i < keys.length; i++) {\n    if (legacy[j] === keys[i]) {\n      keys[i] += \";?\";\n      j++;\n    } else {\n      keys[i] += \";\";\n    }\n  }\n\n  var re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\"),\n      replace = getReplacer(entityMap);\n\n  function replacer(str) {\n    if (str.substr(-1) !== \";\") str += \";\";\n    return replace(str);\n  } //TODO consider creating a merged map\n\n\n  return function (str) {\n    return String(str).replace(re, replacer);\n  };\n}();\n\nfunction sorter(a, b) {\n  return a < b ? 1 : -1;\n}\n\nfunction getReplacer(map) {\n  return function replace(str) {\n    if (str.charAt(1) === \"#\") {\n      if (str.charAt(2) === \"X\" || str.charAt(2) === \"x\") {\n        return decodeCodePoint(parseInt(str.substr(3), 16));\n      }\n\n      return decodeCodePoint(parseInt(str.substr(2), 10));\n    }\n\n    return map[str.slice(1, -1)];\n  };\n}\n\nmodule.exports = {\n  XML: decodeXMLStrict,\n  HTML: decodeHTML,\n  HTMLStrict: decodeHTMLStrict\n};","map":{"version":3,"names":["entityMap","require","legacyMap","xmlMap","decodeCodePoint","decodeXMLStrict","getStrictDecoder","decodeHTMLStrict","map","keys","Object","join","replace","getReplacer","re","RegExp","str","String","decodeHTML","legacy","sort","sorter","i","j","length","replacer","substr","a","b","charAt","parseInt","slice","module","exports","XML","HTML","HTMLStrict"],"sources":["/Users/navid/Documents/Final Project 2/vocab/node_modules/cheerio-without-node-native/node_modules/entities/lib/decode.js"],"sourcesContent":["var entityMap = require(\"../maps/entities.json\"),\n    legacyMap = require(\"../maps/legacy.json\"),\n    xmlMap = require(\"../maps/xml.json\"),\n    decodeCodePoint = require(\"./decode_codepoint.js\");\n\nvar decodeXMLStrict = getStrictDecoder(xmlMap),\n    decodeHTMLStrict = getStrictDecoder(entityMap);\n\nfunction getStrictDecoder(map) {\n    var keys = Object.keys(map).join(\"|\"),\n        replace = getReplacer(map);\n\n    keys += \"|#[xX][\\\\da-fA-F]+|#\\\\d+\";\n\n    var re = new RegExp(\"&(?:\" + keys + \");\", \"g\");\n\n    return function(str) {\n        return String(str).replace(re, replace);\n    };\n}\n\nvar decodeHTML = (function() {\n    var legacy = Object.keys(legacyMap).sort(sorter);\n\n    var keys = Object.keys(entityMap).sort(sorter);\n\n    for (var i = 0, j = 0; i < keys.length; i++) {\n        if (legacy[j] === keys[i]) {\n            keys[i] += \";?\";\n            j++;\n        } else {\n            keys[i] += \";\";\n        }\n    }\n\n    var re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\"),\n        replace = getReplacer(entityMap);\n\n    function replacer(str) {\n        if (str.substr(-1) !== \";\") str += \";\";\n        return replace(str);\n    }\n\n    //TODO consider creating a merged map\n    return function(str) {\n        return String(str).replace(re, replacer);\n    };\n})();\n\nfunction sorter(a, b) {\n    return a < b ? 1 : -1;\n}\n\nfunction getReplacer(map) {\n    return function replace(str) {\n        if (str.charAt(1) === \"#\") {\n            if (str.charAt(2) === \"X\" || str.charAt(2) === \"x\") {\n                return decodeCodePoint(parseInt(str.substr(3), 16));\n            }\n            return decodeCodePoint(parseInt(str.substr(2), 10));\n        }\n        return map[str.slice(1, -1)];\n    };\n}\n\nmodule.exports = {\n    XML: decodeXMLStrict,\n    HTML: decodeHTML,\n    HTMLStrict: decodeHTMLStrict\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}